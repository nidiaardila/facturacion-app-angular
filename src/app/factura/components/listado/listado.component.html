<app-toolbar></app-toolbar>
<app-sidemenu></app-sidemenu>

<!-- <div class="card">

    <p-table [value]="facturas" [paginator]="true" [rows]="25">
  
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Rut</th>
          <th>Empresa</th>
          <th>Fecha</th>
          <th>Folio</th>
          <th>Cliente</th>
          <th>Item</th>
          <th>Subtotal</th>
          <th>IVA</th>
          <th>Total</th>
          
          <th>Factura</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-factura>
        <tr>
          <td>{{ factura.id }}</td>
          <td>{{ factura.rut }}</td>
          <td>{{ factura.empresa }}</td>
          <td>{{ factura.createdAt | date }}</td>
          <td>{{ factura.folio}}</td>
          <td>{{ factura.cliente?.nombre || 'Sin cliente' }}</td>
          <td>{{ factura.item?.nombre || 'Sin productos' }}</td>
          <td>{{ factura.subtotal }}</td>
          <td>{{ factura.iva }}</td>
          <td>{{ factura.total }}</td>
          <td>
              <button pButton icon="pi pi-user-edit" 
                      class="mr-1 p-button-sm"
                      [routerLink]="['/factura/ver', factura.id]">
                      <span class="icon-text-gap"></span> 
                      edit
              </button>
              <button pButton icon="pi pi-delete-left"
                      class="p-button-danger p-button-sm"
                      >
                      <span class="icon-text-gap"></span> 
                      delete
              </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  
  </div> -->

  <div class="card">

    <p-table [value]="facturas" [paginator]="true" [rows]="25">
  
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Rut</th>
          <th>Empresa</th>
          <th>Fecha</th>
          <th>Folio</th>
          <th>Cliente</th>
          <th>Item</th>
          <th>Subtotal</th>
          <th>IVA</th>
          <th>Total</th>
          
          <th>Factura</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-factura>
        <tr>
          <td>{{ factura.id }}</td>
          <td>{{ factura.rut }}</td>
          <td>{{ factura.empresa }}</td>
          <td>{{ factura.createdAt | date }}</td>
          <td>{{ factura.folio}}</td>
          <td>{{ factura.cliente?.nombre || 'Sin cliente' }}</td>
          <td>{{ factura.item?.nombre || 'Sin productos' }}</td>
          <td>{{ factura.subtotal }}</td>
          <td>{{ factura.iva }}</td>
          <td>{{ factura.total }}</td>
          <td>
              <button pButton icon="pi pi-external-link" 
                      class="mr-1 p-button-sm"
                      [routerLink]="['/factura/ver', factura.id]">
                      <span class="icon-text-gap"></span> <!-- Espaciador -->
                      ver...
              </button>
              <button pButton icon="pi pi-delete-left"
                      class="p-button-danger p-button-sm"
                      (click)="delete(factura)">
                      <span class="icon-text-gap"></span> <!-- Espaciador -->
                      delete
              </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  
  </div>
  
  
